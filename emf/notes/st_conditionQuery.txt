ENGLISH
========

Find for each customer and for each month of 1997 the
customer's average sale before, during and after this month.


EMF:
=========
select cust,month,avg(x.sale),avg(sale),avg(y.sale)
    from Sales
            group by cust, month ; x, y
                such that x.cust = cust and x.month < month,
                            y.cust = cust and y.month > month

SQL:
==========

select prod, month, count(z.*)
from Sales
where year=1997
group by prod,month ; x,y,z
such that
    x.prod = prod and x.month = x.month-1,
    y.prod = prod and y.month = y.month+1,
    z.prod = prod and z.month = month and
    z.sale>avg(x.sale) and z.sale<avg(y.sale)